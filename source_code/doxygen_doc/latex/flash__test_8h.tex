\hypertarget{flash__test_8h}{\section{C\+:/\+Users/limpkin/\+Dropbox/\+Projets/mooltipass/source\+\_\+code/src/\+F\+L\+A\+S\+H/flash\+\_\+test.h File Reference}
\label{flash__test_8h}\index{C\+:/\+Users/limpkin/\+Dropbox/\+Projets/mooltipass/source\+\_\+code/src/\+F\+L\+A\+S\+H/flash\+\_\+test.\+h@{C\+:/\+Users/limpkin/\+Dropbox/\+Projets/mooltipass/source\+\_\+code/src/\+F\+L\+A\+S\+H/flash\+\_\+test.\+h}}
}


Mooltipass Flash I\+C Library Test Functions Header Created\+: 31/3/2014 Author\+: Michael Neiderhauser.  


{\ttfamily \#include \char`\"{}defines.\+h\char`\"{}}\\*
{\ttfamily \#include $<$stdint.\+h$>$}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{flash__test_8h_a238970e25a8e7700e292b7fda881aa57}{\#define {\bfseries F\+L\+A\+S\+H\+\_\+\+T\+E\+S\+T\+\_\+\+I\+N\+I\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+P\+O\+L\+I\+C\+Y\+\_\+\+Z\+E\+R\+O}~0}\label{flash__test_8h_a238970e25a8e7700e292b7fda881aa57}

\item 
\hypertarget{flash__test_8h_a71055dcf8c6135e775ea8d0b46771106}{\#define {\bfseries F\+L\+A\+S\+H\+\_\+\+T\+E\+S\+T\+\_\+\+I\+N\+I\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+P\+O\+L\+I\+C\+Y\+\_\+\+O\+N\+E}~1}\label{flash__test_8h_a71055dcf8c6135e775ea8d0b46771106}

\item 
\hypertarget{flash__test_8h_a75bc13782ae5ba5295d5f79a488d27a2}{\#define {\bfseries F\+L\+A\+S\+H\+\_\+\+T\+E\+S\+T\+\_\+\+I\+N\+I\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+P\+O\+L\+I\+C\+Y\+\_\+\+I\+N\+C}~2}\label{flash__test_8h_a75bc13782ae5ba5295d5f79a488d27a2}

\item 
\hypertarget{flash__test_8h_a8755da613d56873f88f7d1216a22acbe}{\#define {\bfseries F\+L\+A\+S\+H\+\_\+\+T\+E\+S\+T\+\_\+\+I\+N\+I\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+P\+O\+L\+I\+C\+Y\+\_\+\+R\+N\+D}~3}\label{flash__test_8h_a8755da613d56873f88f7d1216a22acbe}

\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{flash__test_8h_ae40056a2bb57d5c9891be4e093e52347}{init\+Buffer} (uint8\+\_\+t $\ast$buffer, uint16\+\_\+t buffer\+Size, uint8\+\_\+t policy)
\begin{DoxyCompactList}\small\item\em A helper function that populates a buffer. \end{DoxyCompactList}\item 
R\+E\+T\+\_\+\+T\+Y\+P\+E \hyperlink{flash__test_8h_a54fe0b3a10145c5e9514958565b0e7c2}{flash\+Init\+Test} ()
\begin{DoxyCompactList}\small\item\em A Testing wrapper that tests flash init (reading manf id's) T\+H\+I\+S T\+E\+S\+T M\+U\+S\+T B\+E R\+U\+N -\/$>$ Sets up S\+P\+I. \end{DoxyCompactList}\item 
R\+E\+T\+\_\+\+T\+Y\+P\+E \hyperlink{flash__test_8h_ab2225b8bf4f6b47dec0dd5f1047780ea}{flash\+Write\+Read\+Test} (uint8\+\_\+t $\ast$buffer\+In, uint8\+\_\+t $\ast$buffer\+Out, uint16\+\_\+t buffer\+Size)
\begin{DoxyCompactList}\small\item\em A Testing wrapper that tests page write, and page read. \end{DoxyCompactList}\item 
R\+E\+T\+\_\+\+T\+Y\+P\+E \hyperlink{flash__test_8h_a81d76647d0d55fcfc9910692b873356a}{flash\+Write\+Read\+Offset\+Test} (uint8\+\_\+t $\ast$buffer\+In, uint8\+\_\+t $\ast$buffer\+Out, uint16\+\_\+t buffer\+Size)
\begin{DoxyCompactList}\small\item\em A Testing wrapper that tests page write, and page read. Uses buffer\+Size / N\+O\+D\+E\+\_\+\+S\+I\+Z\+E\+\_\+\+P\+A\+R\+E\+N\+T for offset calculation. \end{DoxyCompactList}\item 
R\+E\+T\+\_\+\+T\+Y\+P\+E \hyperlink{flash__test_8h_a90a74115345744a42a78757da954fb9a}{flash\+Erase\+Page\+Test} (uint8\+\_\+t $\ast$buffer\+In, uint8\+\_\+t $\ast$buffer\+Out, uint16\+\_\+t buffer\+Size)
\begin{DoxyCompactList}\small\item\em A Testing wrapper that tests erasing all pages in flash. \end{DoxyCompactList}\item 
R\+E\+T\+\_\+\+T\+Y\+P\+E \hyperlink{flash__test_8h_a31459107d1e28d723ded29c6d32e108c}{flash\+Erase\+Block\+Test} (uint8\+\_\+t $\ast$buffer\+In, uint8\+\_\+t $\ast$buffer\+Out, uint16\+\_\+t buffer\+Size)
\begin{DoxyCompactList}\small\item\em A Testing wrapper that tests erasing all blocks in flash. \end{DoxyCompactList}\item 
R\+E\+T\+\_\+\+T\+Y\+P\+E \hyperlink{flash__test_8h_a6f8e0a618320e8a763fdb8ff5506fc9f}{flash\+Erase\+Sector\+X\+Test} (uint8\+\_\+t $\ast$buffer\+In, uint8\+\_\+t $\ast$buffer\+Out, uint16\+\_\+t buffer\+Size)
\begin{DoxyCompactList}\small\item\em A Testing wrapper that tests erasing S\+E\+C\+T\+O\+R\+\_\+\+S\+T\+A\+R\+T through S\+E\+C\+T\+O\+R\+\_\+\+E\+N\+D. \end{DoxyCompactList}\item 
\hypertarget{flash__test_8h_a7673dd5cd2d6c44e72afaa4c6db0746c}{R\+E\+T\+\_\+\+T\+Y\+P\+E {\bfseries flash\+Erase\+Sector\+Zero\+Test} (uint8\+\_\+t $\ast$buffer\+In, uint8\+\_\+t $\ast$buffer\+Out, uint16\+\_\+t buffer\+Size)}\label{flash__test_8h_a7673dd5cd2d6c44e72afaa4c6db0746c}

\item 
\hypertarget{flash__test_8h_a786247814c71bd0fd2a3aa8a8f73fcec}{R\+E\+T\+\_\+\+T\+Y\+P\+E \hyperlink{flash__test_8h_a786247814c71bd0fd2a3aa8a8f73fcec}{flash\+Test} ()}\label{flash__test_8h_a786247814c71bd0fd2a3aa8a8f73fcec}

\begin{DoxyCompactList}\small\item\em Primary entry point for flash testing. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Mooltipass Flash I\+C Library Test Functions Header Created\+: 31/3/2014 Author\+: Michael Neiderhauser. 



\subsection{Function Documentation}
\hypertarget{flash__test_8h_a31459107d1e28d723ded29c6d32e108c}{\index{flash\+\_\+test.\+h@{flash\+\_\+test.\+h}!flash\+Erase\+Block\+Test@{flash\+Erase\+Block\+Test}}
\index{flash\+Erase\+Block\+Test@{flash\+Erase\+Block\+Test}!flash\+\_\+test.\+h@{flash\+\_\+test.\+h}}
\subsubsection[{flash\+Erase\+Block\+Test}]{\setlength{\rightskip}{0pt plus 5cm}R\+E\+T\+\_\+\+T\+Y\+P\+E flash\+Erase\+Block\+Test (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{buffer\+In, }
\item[{uint8\+\_\+t $\ast$}]{buffer\+Out, }
\item[{uint16\+\_\+t}]{buffer\+Size}
\end{DoxyParamCaption}
)}}\label{flash__test_8h_a31459107d1e28d723ded29c6d32e108c}


A Testing wrapper that tests erasing all blocks in flash. 


\begin{DoxyParams}{Parameters}
{\em buffer\+In} & One of the two testing buffers -\/$>$ Should be size of B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+G\+E \\
\hline
{\em buffer\+Out} & One of the two testing buffers -\/$>$ Should be size of B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+G\+E \\
\hline
{\em buffer\+Size} & Should always be B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+G\+E \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Test Status 
\end{DoxyReturn}
\hypertarget{flash__test_8h_a90a74115345744a42a78757da954fb9a}{\index{flash\+\_\+test.\+h@{flash\+\_\+test.\+h}!flash\+Erase\+Page\+Test@{flash\+Erase\+Page\+Test}}
\index{flash\+Erase\+Page\+Test@{flash\+Erase\+Page\+Test}!flash\+\_\+test.\+h@{flash\+\_\+test.\+h}}
\subsubsection[{flash\+Erase\+Page\+Test}]{\setlength{\rightskip}{0pt plus 5cm}R\+E\+T\+\_\+\+T\+Y\+P\+E flash\+Erase\+Page\+Test (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{buffer\+In, }
\item[{uint8\+\_\+t $\ast$}]{buffer\+Out, }
\item[{uint16\+\_\+t}]{buffer\+Size}
\end{DoxyParamCaption}
)}}\label{flash__test_8h_a90a74115345744a42a78757da954fb9a}


A Testing wrapper that tests erasing all pages in flash. 


\begin{DoxyParams}{Parameters}
{\em buffer\+In} & One of the two testing buffers -\/$>$ Should be size of B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+G\+E \\
\hline
{\em buffer\+Out} & One of the two testing buffers -\/$>$ Should be size of B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+G\+E \\
\hline
{\em buffer\+Size} & Should always be B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+G\+E \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Test Status 
\end{DoxyReturn}
\hypertarget{flash__test_8h_a6f8e0a618320e8a763fdb8ff5506fc9f}{\index{flash\+\_\+test.\+h@{flash\+\_\+test.\+h}!flash\+Erase\+Sector\+X\+Test@{flash\+Erase\+Sector\+X\+Test}}
\index{flash\+Erase\+Sector\+X\+Test@{flash\+Erase\+Sector\+X\+Test}!flash\+\_\+test.\+h@{flash\+\_\+test.\+h}}
\subsubsection[{flash\+Erase\+Sector\+X\+Test}]{\setlength{\rightskip}{0pt plus 5cm}R\+E\+T\+\_\+\+T\+Y\+P\+E flash\+Erase\+Sector\+X\+Test (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{buffer\+In, }
\item[{uint8\+\_\+t $\ast$}]{buffer\+Out, }
\item[{uint16\+\_\+t}]{buffer\+Size}
\end{DoxyParamCaption}
)}}\label{flash__test_8h_a6f8e0a618320e8a763fdb8ff5506fc9f}


A Testing wrapper that tests erasing S\+E\+C\+T\+O\+R\+\_\+\+S\+T\+A\+R\+T through S\+E\+C\+T\+O\+R\+\_\+\+E\+N\+D. 

A Testing wrapper that tests erasing F\+L\+A\+S\+H\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+Z\+E\+R\+O\+\_\+\+A\+\_\+\+C\+O\+D\+E and F\+L\+A\+S\+H\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+Z\+E\+R\+O\+\_\+\+B\+\_\+\+C\+O\+D\+E.


\begin{DoxyParams}{Parameters}
{\em buffer\+In} & One of the two testing buffers -\/$>$ Should be size of B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+G\+E \\
\hline
{\em buffer\+Out} & One of the two testing buffers -\/$>$ Should be size of B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+G\+E \\
\hline
{\em buffer\+Size} & Should always be B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+G\+E \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Test Status 
\end{DoxyReturn}
\hypertarget{flash__test_8h_a54fe0b3a10145c5e9514958565b0e7c2}{\index{flash\+\_\+test.\+h@{flash\+\_\+test.\+h}!flash\+Init\+Test@{flash\+Init\+Test}}
\index{flash\+Init\+Test@{flash\+Init\+Test}!flash\+\_\+test.\+h@{flash\+\_\+test.\+h}}
\subsubsection[{flash\+Init\+Test}]{\setlength{\rightskip}{0pt plus 5cm}R\+E\+T\+\_\+\+T\+Y\+P\+E flash\+Init\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{flash__test_8h_a54fe0b3a10145c5e9514958565b0e7c2}


A Testing wrapper that tests flash init (reading manf id's) T\+H\+I\+S T\+E\+S\+T M\+U\+S\+T B\+E R\+U\+N -\/$>$ Sets up S\+P\+I. 

\begin{DoxyReturn}{Returns}
Test Status 
\end{DoxyReturn}
\hypertarget{flash__test_8h_a81d76647d0d55fcfc9910692b873356a}{\index{flash\+\_\+test.\+h@{flash\+\_\+test.\+h}!flash\+Write\+Read\+Offset\+Test@{flash\+Write\+Read\+Offset\+Test}}
\index{flash\+Write\+Read\+Offset\+Test@{flash\+Write\+Read\+Offset\+Test}!flash\+\_\+test.\+h@{flash\+\_\+test.\+h}}
\subsubsection[{flash\+Write\+Read\+Offset\+Test}]{\setlength{\rightskip}{0pt plus 5cm}R\+E\+T\+\_\+\+T\+Y\+P\+E flash\+Write\+Read\+Offset\+Test (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{buffer\+In, }
\item[{uint8\+\_\+t $\ast$}]{buffer\+Out, }
\item[{uint16\+\_\+t}]{buffer\+Size}
\end{DoxyParamCaption}
)}}\label{flash__test_8h_a81d76647d0d55fcfc9910692b873356a}


A Testing wrapper that tests page write, and page read. Uses buffer\+Size / N\+O\+D\+E\+\_\+\+S\+I\+Z\+E\+\_\+\+P\+A\+R\+E\+N\+T for offset calculation. 


\begin{DoxyParams}{Parameters}
{\em buffer\+In} & One of the two testing buffers -\/$>$ Should be size of B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+G\+E \\
\hline
{\em buffer\+Out} & One of the two testing buffers -\/$>$ Should be size of B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+G\+E \\
\hline
{\em buffer\+Size} & Should always be B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+G\+E \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Test Status 
\end{DoxyReturn}
\hypertarget{flash__test_8h_ab2225b8bf4f6b47dec0dd5f1047780ea}{\index{flash\+\_\+test.\+h@{flash\+\_\+test.\+h}!flash\+Write\+Read\+Test@{flash\+Write\+Read\+Test}}
\index{flash\+Write\+Read\+Test@{flash\+Write\+Read\+Test}!flash\+\_\+test.\+h@{flash\+\_\+test.\+h}}
\subsubsection[{flash\+Write\+Read\+Test}]{\setlength{\rightskip}{0pt plus 5cm}R\+E\+T\+\_\+\+T\+Y\+P\+E flash\+Write\+Read\+Test (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{buffer\+In, }
\item[{uint8\+\_\+t $\ast$}]{buffer\+Out, }
\item[{uint16\+\_\+t}]{buffer\+Size}
\end{DoxyParamCaption}
)}}\label{flash__test_8h_ab2225b8bf4f6b47dec0dd5f1047780ea}


A Testing wrapper that tests page write, and page read. 


\begin{DoxyParams}{Parameters}
{\em buffer\+In} & One of the two testing buffers -\/$>$ Should be size of B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+G\+E \\
\hline
{\em buffer\+Out} & One of the two testing buffers -\/$>$ Should be size of B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+G\+E \\
\hline
{\em buffer\+Size} & Should always be B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+P\+A\+G\+E \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Test Status 
\end{DoxyReturn}
\hypertarget{flash__test_8h_ae40056a2bb57d5c9891be4e093e52347}{\index{flash\+\_\+test.\+h@{flash\+\_\+test.\+h}!init\+Buffer@{init\+Buffer}}
\index{init\+Buffer@{init\+Buffer}!flash\+\_\+test.\+h@{flash\+\_\+test.\+h}}
\subsubsection[{init\+Buffer}]{\setlength{\rightskip}{0pt plus 5cm}void init\+Buffer (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{buffer, }
\item[{uint16\+\_\+t}]{buffer\+Size, }
\item[{uint8\+\_\+t}]{policy}
\end{DoxyParamCaption}
)}}\label{flash__test_8h_ae40056a2bb57d5c9891be4e093e52347}


A helper function that populates a buffer. 


\begin{DoxyParams}{Parameters}
{\em buffer} & The buffer to populate \\
\hline
{\em buffer\+Size} & The size of the buffer \\
\hline
{\em policy} & The population policy. (All Ones, All Zeros, Random, Increment) \\
\hline
\end{DoxyParams}
